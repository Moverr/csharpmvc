@model partyInvites.Models.GuestResponse

@{
    ViewBag.Title = "Thanks";
}

@{
    try
    {
        WebMail.SmtpServer = "smtp.example.com";
        WebMail.SmtpPort = 587;
        WebMail.EnableSsl = true;
        WebMail.UserName = "mySmtpUsername";
        WebMail.Password = "mySmtpPassword";
        WebMail.From = "rsvps@example.com";
        WebMail.Send("party-host@example.com", "RSVP Notification",
        Model.Name + " is " + ((Model.willAtted ?? false) ? "" : "not")
        + "attending");
    }
    catch (Exception  )
    {
        @:<b>Sorry - we couldn't send the email to confirm your RSVP.</b>
    }
}

<h2>
    Thank you @Model.Name
</h2>
<br />
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            @if (Model.willAtted == true)
            {
                @:
                <div class="alert alert-success alert-dismissable">
                    Its great that you are coming, thanks for honoring
                </div>
            }
            else
            {
                @:
                <div class="alert alert-danger alert-dismissable">
                    Sad about that, I hope you are ok
                </div>
            }

            @Html.ActionLink("Back", "RsvForm")
        </div>
    </div>
</div>

